https://paperdoll.notion.site/SQL-2-2edefd73348980309882f8c7dda40d99

1.SQL과 DB 관리

1-1.SQL과 DB 스키마 이해

- SQL은 데이터베이스의 테이블, 집합, 항목 등을 정의하는 데 사용됨
    
- 데이터베이스의 스키마를 정의할 때, 테이블과 함수를 포함한 스키마를 작성함
    
- 테이블은 테이블과 관련된 데이터의 집합으로, 이 테이블을 위한 함수를 포함할 수 있음
    
- 데이터베이스의 테이블과 함수를 SQL로 정의할 때, 개별 테이블을 명확히 정의하고, 필요한 데이터 항목을 추려내는 역할을 함
    
- SQL을 사용해 데이터베이스를 검색하고, 필요에 따라 데이터를 생성, 수정, 삭제함
    

1-2.SQL 제작 순서와 함수

- SQL 제작 시, 데이터베이스 엔진에서 기본적으로 관계형 테이블을 생성함
    
- 필요에 따라 새로운 테이블을 생성하고, 원본 테이블을 별도로 생성함
    
- 새로운 테이블에서 원하는 조건을 검색하여, 데이터를 결과로 출력함
    
- SQL에서 데이터의 도메인을 변경하지 않고, 데이터를 필요한 조건에 따라 추려내는 동작을 수행함
    
- 데이터 프로파일로 만들어진 테이블에서 필요한 조건을 검색하여, 값을 추려내는 동작을 수행함
    

1-3.데이터베이스 검색과 관리

- SQL을 사용해 데이터베이스를 검색하고, 필요에 따라 데이터를 생성, 수정, 삭제함
    
- 데이터베이스의 테이블과 함수를 검색하고, 필요한 데이터 항목을 추려내는 동작을 수행함
    
- 데이터베이스의 시간 단위를 관리하기 위해, 타임 스탬프 함수를 사용하여 데이터의 생성, 수정 시점을 관리함
    
- 데이터의 도메인을 변경하지 않고, 데이터를 필요한 조건에 따라 추려내는 동작을 수행함
    
- 데이터베이스를 여러 개의 원본 테이블로 나누어 관리할 수 있음
    

2.데이터 관리와 SQL 함수 활용

2-1.데이터 관리 권한과 원본 데이터

- 데이터 엔지니어는 원본 데이터에 접근할 권한이 거의 없음
    
- 읽기, 특정 테이블 조작 등 제한된 권한을 가짐
    
- 원본 데이터의 누락이나 변경은 큰 문제이며, 원본 데이터를 훼손하면 큰 손실이 발생함
    
- 원본 데이터를 그대로 유지하면서 새로운 결과를 얻으려면 프로파일을 사용
    
- SQL 함수 중 조건자를 나타내는 케이스 원뱅 기능이 가능
    

2-2.케이스 원뱅 기능과 문제점

- 케이스 원뱅 기능을 사용하면 조건이 너무 길어지고, 복잡해져서 사용이 어려워짐
    
- 구조화되지 않은 데이터에서 케이스 원뱅 기능을 사용하면 값의 변환에 어려움이 생김
    
- 컨키드 메이트에서 값을 제거하거나 변환하는 것에 주의 필요
    
- 어떤 값이 섞여 있다면, 통계를 계산할 때 다른 작업이 되므로 주의 필요
    

2-3.조건에 따른 데이터 관리와 결과 해석

- 특정 컬럼의 값을 통해 조건에 따른 데이터 관리 가능
    
- 열의 값에 따라 다른 작업을 수행해야 함
    
- 테이블에서 열이 존재하면, 조건에 따라 다른 작업을 수행해야 함
    
- 원본 데이터는 그대로 유지하면서 필요한 결과를 얻으려면 조작이 필요함
    
- 행의 수를 줄여서 오면 원본 테이블을 유지하면서 다음 연도 개봉이 효율적임
    

3.영화 데이터 분석을 통한 영화 편집 비율 확인

3-1.영화 데이터 분석 준비

- 파이썬과 SQL을 활용하여 영화 데이터를 분석하고 분석 대상의 목록을 생성
    
- 데이터의 편집과 부제를 분석하기 위해 시간지수를 조정함
    
- 데이터의 패턴을 분석하기 위해 미리 조건문을 작성함
    
- 조건문에 따라 데이터를 묶어서 처리하고 편집의 결과를 분석함
    
- 필요한 데이터를 각각 추출하기 위해 데이터를 세트로 묶고 필요한 항목을 선택함
    

3-2.영화 데이터 분석 실행

- 파이썬과 SQL을 사용하여 영화 데이터를 분석하고 필요한 정보를 추출함
    
- 조건에 따라 데이터를 묶어서 처리하고 각각의 데이터에서 필요한 정보를 추출함
    
- 주제가 달린 영화의 비율을 확인하기 위해 필요로 하는 데이터를 작성함
    
- 데이터를 조건에 따라 분류하고, 분류의 결과를 검증하기 위해 다양한 테스트를 진행함
    
- 조건에 맞는 값들을 확인하기 위해 조건문 작성과 검증 과정을 반복함
    

3-3.영화 데이터 분석 결과

- 파이썬과 SQL을 사용하여 영화 데이터를 효과적으로 분석함
    
- 전체 영화 편집과 부제에 대한 데이터를 확인하고 분석함
    
- 파이썬과 SQL의 장점을 살려 복잡한 조건문을 간결하게 작성함
    
- 검증 과정을 통해 조건에 맞는 값들을 최종적으로 확인함
    
- 결과를 종합하고, 각각의 영화에 대한 주제 비율을 확인함
    

4.데이터 정규화와 조인의 원리

4-1.데이터 정규화와 재정규화의 개념

- 데이터의 정규화와 재정규화를 이해하는 것이 중요함
    
- 데이터를 분류하고, 필요한 정보를 추출하는 과정을 정규화라고 함
    
- 파이썬을 이용해 데이터를 정규화하고, 필요한 정보를 추출하는 방법을 알아봄
    
- 여러가지 모델을 통해 데이터를 분류하고, 필요한 정보를 추출하는 방법을 분석함
    

4-2.조인의 원리와 종류

- 조인은 테이블 간의 공통된 값을 찾는 방법임
    
- 조인의 종류에는 이너 조인, 아우터 조인, 풀 아우터 조인 등이 있음
    
- 이너 조인은 두 테이블의 공통된 컬럼을 이용하여 두 테이블의 값을 결합함
    
- 아우터 조인은 두 테이블의 컬럼을 기준으로, 각 테이블의 값들을 서로 합침
    

4-3.조인의 규칙과 예제

- 조인을 진행할 때, 테이블명을 함께 사용하며, 컬럼 개수에 따라 조건을 포함함
    
- 조인을 여러 번 진행할 때, 각각의 조인에 대해 공통적으로 처리해야 함
    
- 조인의 결과를 보통 카티 포인터라고 함
    
- 컬럼 기준으로 있는 값들을 다시 가지고 와서 조인을 진행함
    

5.데이터베이스 생성

5-1.데이터베이스 생성 과정 이해

- 데이터베이스 생성 시 기존 데이터와 새로운 데이터의 차이점을 정리함
    
- 새로운 데이터는 기존 데이터와 동일한 부서, 직원번호, 직원이름 등의 정보를 포함함
    
- 기존 데이터는 불필요한 데이터로 정리하고, 새로운 데이터는 테이블 형태로 데이터를 관리함
    
- 새로운 데이터의 부서, 직원번호, 직원이름 등의 정보를 기존 데이터에 반영함
    
- 기존 데이터를 대용량 데이터로 관리하기 위해 '중첩 데이터' 방식을 사용함
    

5-2.테이블과 직원 정보

- '스타트먼트' 테이블을 통해 직원 정보를 조회하고, '에프씨' 테이블을 통해 부서 정보를 얻음
    
- '에프씨' 테이블에서 '직원의 부서'를 '에프로', '직원의 직위'를 '씨', '직원의 급여'를 '알고'로 설정함
    
- '셀브레이드' 테이블은 직원의 기간별 급여를 나타냄
    
- '에프씨' 테이블에서 '직원의 부서'를 '에프', '직원의 직위'를 '씨', '직원의 급여'를 '알고'로 설정함
    
- '에프씨' 테이블은 직원의 직위, 부서, 급여를 기록하는 데 사용됨
    

5-3.데이터베이스 조합과 보안

- '에프씨' 테이블과 '셀브레이드' 테이블을 조합하여 '직원의 직위', '직원의 부서', '직원의 급여'를 포함하는 테이블을 생성함
    
- 이 테이블은 '직원 정보'로 명명하고, '에프씨' 테이블과 '셀브레이드' 테이블을 통해 직원의 직위, 부서, 급여를 확인할 수 있음
    
- 테이블의 조합은 테이블 간의 연결을 위해 필수적임
    
- 테이블의 정보는 투명하게 관리하여 데이터 유출을 방지함
    
- 테이블의 보안을 위해 '프라이머리 키'를 생성하고, '프라이머리 키'에 '키가 변경되면 본문'을 검증함
    

6.테이블 및 조인 활용 방법

6-1.테이블 및 조인의 개념 및 종류

- 테이블은 데이터의 공통된 기준을 설정함
    
- 조인은 두 테이블 간의 상호 관련성을 나타내는 것
    
- 조인의 종류에는 완전히 일치하는 동등부인, 범위 내에 있는 값을 찾는 부인, 서로 다른 값을 갖는 다른 테이블을 선택하는 다중 조인 등이 있음
    
- 테이블은 테이블명을 기반으로 사용되며, 컬럼명은 받지 않음
    

6-2.테이블 조인의 실제 활용 방법

- 테이블의 정보를 다른 테이블에 조인을 하여 그 값을 함께 출력할 수 있음
    
- 테이블에 같은 조건이 존재할 경우 같은 조건이 걸려있는 컬럼을 활용해 조인을 할 수 있음
    
- 각 테이블의 정보를 조인에 따라 다르게 표현하여 사용할 수 있음
    
- 중복되는 정보를 제거하기 위해 조인의 별 사용을 줄이는 것이 중요함
    

6-3.테이블 조인의 시험 및 학습

- 테이블의 조인에 대한 시험 공부를 통해 실제 활용 방법을 이해함
    
- 조인의 다양한 종류와 활용 방법을 암기함으로써 실제 문제 해결 능력을 향상시킴
    
- 테이블 및 조인에 대한 이해는 데이터 분석 및 활용에서 중요한 역할을 하므로 꾸준히 복습이 필요함
    

7.데이터베이스와 조인의 활용

7-1.조인의 개념과 종류

- 데이터베이스에서 테이블 간의 관계를 조인이라고 함
    
- 조인에는 기본적으로 '키'와 '값'이 포함되며, 키는 조인의 '집합', 값은 키에 해당하는 데이터임
    
- '==' 또는 '==지 않다'라는 결론을 내리기 위해 사용하며, '키'와 '값'이 일치하면 '그리고', 아니면 '그렇지 않다'라고 판단함
    
- 여러 종류의 조인 존재하며, 조건에 따라 조인의 사용 방법이 달라짐
    

7-2.조인의 활용 방법

- 조인은 다양한 분야에서 활용되며, 특히 데이터베이스에서 테이블 간의 관계를 검색하거나 정렬하는데 사용됨
    
- 조인을 통해 테이블 간의 복잡한 관계를 간략하게 표현할 수 있음
    
- 조인은 주로 '=='을 기반으로 하며, '==지 않다'라는 결론을 내리기 위해 사용됨
    
- 비주얼 코드를 활용하여 간결하고 효율적으로 조인을 검색하고 사용할 수 있음
    

7-3.조인의 특성과 한계

- 조인은 데이터베이스에서 테이블 간의 관계를 다루는 유용한 도구임
    
- 조인을 활용하여 테이블 간의 복잡한 관계를 간략하게 표현할 수 있음
    
- 조인은 '=='를 기반으로 하며, 이는 데이터 값의 일치 여부를 검증하는 데 사용됨
    
- 조인은 여러 조건을 결합하여 하나의 조건으로 동일한 결과를 도출하는 데 유용하나, 조건의 수가 많아질수록 코드의 복잡도가 증가함
    

8.셀프 조인

8-1.셀프 조인의 이해

- 셀프 조인은 자기 조인을 의미하며, 테이블 간의 상호 참조를 통해 테이블을 묶는 것임
    
- 같은 테이블의 다른 컬럼을 참조하여, 다른 테이블을 묶는 방법임
    
- 셀프 조인을 통해 테이블 간의 관계를 명확히 하고, 데이터 검색 및 추가가 용이해짐
    
- 셀프 조인은 테이블명을 다르게 해서 같은 값들을 검색하는 것과 같음
    
- 셀프 조인은 'MRGR' 컬럼을 통해 같은 사람의 여러 부하를 검색할 수 있음
    

8-2.셀프 조인의 예시

- 'MRGR' 컬럼을 통해 '스미스 C'의 상관, '포드 밸런스'의 상관을 검색할 수 있음
    
- 셀프 조인을 통해 '스미스 C'와 '포드 밸런스'의 'MGR' 컬럼을 함께 검색할 수 있음
    
- 셀프 조인을 통해 테이블 간의 상호 관계를 명확히 하고, 효율적으로 데이터를 검색 및 추가할 수 있음
    
- 셀프 조인은 테이블 간의 맵핑을 통해 데이터의 변환을 최소화함
    
- 셀프 조인은 여러 개의 데이터를 함께 검색하여 효율적으로 정보를 찾는 데 도움을 줌
    

8-3.셀프 조인의 특징

- 셀프 조인은 테이블 간의 상호 관계를 명확히 하고, 데이터 검색 및 추가가 용이해짐
    
- 셀프 조인은 여러 개의 데이터를 함께 검색하여, 전체 데이터를 다루기 때문에 검색의 정확성이 높음
    
- 셀프 조인은 'MRGR' 컬럼을 통해 여러 부하의 'MGR' 컬럼을 함께 검색할 수 있음
    
- 셀프 조인은 맵핑 가능한 컬럼을 통해 데이터 변환을 최소화하여, 효율적인 검색이 가능함
    
- 셀프 조인은 테이블 간의 맵핑을 통해 데이터 변환을 최소화하여, 효율적인 검색이 가능함
    

9.데이터베이스 정제

9-1.조건과 개수 파악

- 데이터베이스에서 적절한 조건에 따라 정제할 수 있음
    
- 원하는 정보를 얻기 위해선 해당 정보가 포함된 테이블을 조사해야 함
    
- 개수를 파악할 때 카운트를 제외해도 됨
    
- 기본 조건에 따라 연동된 모든 테이블의 개수를 파악해야 함
    
- 주된 키로 사용되는 테이블의 개수를 먼저 파악해놓고 조인해야 함
    

9-2.테이블과 개수 확인

- 조인을 통해 테이블 간의 연결을 확인할 수 있음
    
- 기준이 되는 테이블을 제외한 나머지 테이블의 개수를 확인해야 함
    
- 기계가 데이터의 개수를 세는 작업을 수행함
    
- 행의 개수를 정확히 파악하기 위해선 기본 조건을 활용해 카운트해야 함
    
- 테이블의 개수가 적절한지 탐색을 통해 확인해야 함
    

9-3.직원 정보와 부서 일률

- 부서별 일하는 직원 정보를 확인할 수 있음
    
- 데이터에서 부서가 없는 직원도 있으므로, 부서명과 직위 순서대로 결과를 출력해야 함
    
- 두 테이블을 종합하여 결과를 출력하고, 해당 테이블을 보여줘야 함
    
- 조인을 통해 두 테이블의 연결을 확인할 수 있음
    
- 기업 연계형 직무를 지원하면 대학원까지 진학 가능할 수 있음
    

10.데이터 분석을 위한 테이블 조인과 아웃코드

10-1.테이블 조인과 컬럼 확인

- 테이블 조인을 통해 두 개의 테이블에서 공통된 컬럼을 찾을 수 있음
    
- 컬럼 확인 시, 기준이 되는 테이블에 대해 동등 조인하여 컬럼을 찾음
    
- 조인 기준은 '라이트 아웃코드'로 설정하고, 왼쪽과 오른쪽 테이블을 조인하여 사용함
    
- 왼쪽에서 오른쪽으로 작성을 하기 때문에 조인으로 사용함
    

10-2.아웃코드 작성과 결과 확인

- 조인을 통해 얻은 컬럼 정보를 바탕으로 아웃코드 작성 진행
    
- 레프트 아웃코드 작성 시 왼쪽에서 오른쪽으로 작성하여 과거 값을 제거함
    
- 아웃코드로 결과를 제시하며, 14개의 행에 대한 결과를 확인함
    
- 아웃코드 작성 시 라이트 아웃코드로 진행하여 과거 값을 제거함
    

10-3.테이블 조인과 아웃코드 작성 연습

- 조인을 통해 두 개의 테이블에서 공통된 컬럼을 찾는 연습 진행
    
- 40번 조인에서 조인의 레프트 아웃코드 작성하며 결과를 확인함
    
- 테이블 순서를 바꿔보면서 아웃코드 작성 연습 진행
    
- 레프트 조인을 선호하며, 조인할 때 테이블에 대한 별칭을 사용함
    

11.테이블 조인

11-1.테이블 조인 소개

- 여러 테이블의 결합으로 새로운 테이블을 생성하는 것을 조인이라 부름
    
- 테이블의 결합은 '그리고'나 '또는'과 같은 관계를 갖음
    
- 모든 경우에 대한 결과를 얻을 수 있는 것을 '크로스 조인'이라 부름
    
- 조건을 설정하지 않아도, 결과값을 다양한 방식으로 얻을 수 있음
    
- '결과값'을 '카티션'이라 부름
    

11-2.크로스 조인의 예시

- 'SM스', '앤런', '윌드'에 대한 10인, 20인, 30인 경우를 각각 조건으로 설정하여 조회
    
- 결과값을 '크로스 조인'으로 'SM스'의 모든 경우를 포함해 반환
    
- 'DB.부서'에 대한 10인, 20인, 30인 경우를 각각 조건으로 설정하여 조회
    
- 조건을 통해 여러 테이블의 결합을 확인할 수 있음
    
- '서브 커리'를 통해 조건을 최적화하여 속도를 높일 수 있음
    

11-3.서브 커리의 활용

- 서브 커리는 셀렉트, 프롬, 외열절에 모두 적용 가능
    
- 서브 커리로 원하는 조건을 설정하고, 이를 통한 결과값을 검증
    
- '부서 이름'을 통해 각 직원이 어떤 부서에서 일하는지 조회
    
- '서브 커리'를 활용하여 1차 테이블에서 2차 테이블의 필요 정보만 추려낸 후 조인
    
- 외열절에서 조건을 걸어내는 1차 테이블과, 내부 커리에서 조건을 찾는 서브 커리로 구성
    

12.테이블 합성

12-1.테이블 합성 이해

- 원하는 테이블을 만들기 위해 각 사람들이 어느 부서에서 일하는지 확인 가능함
    
- 셀렉트 절에 필요한 컬럼을 설정하고, 서브 커리와 메인 커리를 구분함
    
- 서브 커리에서 먼저 동작한 후, 메인 커리에서 결과를 받아옴
    
- 동작 시 에러 메시지가 발생하여, 하나의 컬럼만 포함해야 함을 알려줌
    
- 결과 값을 얻기 위해선 셀렉트 절에 필요한 컬럼들을 조합해서 사용해야 함
    

12-2.셀렉트 절의 동작

- 셀렉트 절에서 컬럼을 가져오는 방식을 설명함
    
- 동작을 시작하기 전에, 서브 커리에서 먼저 쓰임
    
- 메인 커리에서 사용한 결과 값을 가지고, 외부 커리에 결과를 붙임
    
- 셀렉트 절의 작업을 수행한 후, 서브 커리로 결과를 돌려받음
    
- 서브 커리의 결과를 다시 메인 커리로 가져오는 방식을 이해해야 함
    

12-3.그룹 바이 함수의 한계

- 그룹 바이 함수는 테이블을 하나로 묶어 결과를 얻는 함수임
    
- 그러나 '셀렉트 절'의 값이 하나의 컬럼만 포함되어야 함을 알려줌
    
- 서브 커리의 결과를 가져오는 방식을 변경하여, 그룹 바이 함수를 사용할 수 없도록 만듦
    
- 그룹 바이 함수를 사용할 경우, '셀렉트 절'에 서브 커리의 결과를 포함해야 함
    
- 결과를 별도의 테이블에 저장하고, '셀렉트 절'을 통해 원하는 테이블을 찾아내는 방법을 생각해 볼 수 있음
    

13.서브컬러리 활용

13-1.조건부 서브컬러리 활용

- 조건부 서브컬러리로 데이터 튜플을 다뤄봄
    
- '리네임 = D코드'와 '셀러리 = D코드' 조건을 만족하는 튜플을 선별해냄
    
- 결과를 참조해낼 수 있고, 여러 개의 결과를 비교해낼 수 있음
    
- 셀렉트 절을 통한 조건부 서브컬러리 사용을 강조함
    
- 메인 커리에서 서브컬러리를 참조할 수 없음을 언급함
    

13-2.서브컬러리의 한계

- 서브컬러리 안에서는 메인 커리를 선정하는 것이 가능함
    
- 메인 커리에서 서브컬러리를 참조하는 것은 불가능함
    
- 서브컬러리 생성 과정에서 임시 테이블이 생성됨을 설명함
    
- 임시 테이블로 인해 다른 명칭의 서브컬러리로 불러올 수 없음을 언급함
    
- 결과를 조건부 서브컬러리로 선별하되, 메인 커리에서 불러올 수 없는 한계가 있음을 밝힘
    

13-3.보완 방법과 팁

- 결과를 조건부 서브컬러리로 선별하되, 메인 커리에서 불러올 수 없는 경우를 논리적으로 대체할 수 있음
    
- 서브컬러리로 불러다 쓰는 방식을 'CPT'라고 부름
    
- 동작하는 순서가 메인 커리에서 서브컬러리로 변화하는 과정을 설명함
    
- CPT 방식을 통해 여러 군데에서 동일한 서브컬러리를 먼저 불러다 쓰는 것을 가능하게 함
    
- 허리가 길어질수록 CPT 방식이 효율적이고 효과적임을 강조함
    

14.서브 커리 기법

14-1.외혈절 활용

- 복잡한 조건 설정을 위해 외혈절 활용을 언급함
    
- 필요에 따라 서브 커리를 통해 조건에 맞는 데이터를 가져올 수 있음
    
- 자원 운영 효율성을 높이기 위해 매번 조건을 재사용하는 방식은 지양해야 함
    
- DBTNO에서 필요한 데이터를 출력할 때는 서브 커리 방식을 통해 결과를 빠르게 얻을 수 있음
    
- 셀렉트 조건을 통해 필요한 데이터를 따로 뽑아둘 수 있음
    

14-2.테이블과 서브 커리

- 필요한 테이블을 미리 만들어 놓아야 확인하기 편리함
    
- 임시 테이블을 만들어 필요한 컬럼을 지정할 수 있음
    
- DBTNO에서 필요한 컬럼을 바꿔 사용하면 코드가 줄어듦
    
- 조건에 따라 서브 커리를 통해 데이터를 가져올 수 있음
    
- 테이블에 최적화를 하면 조건에 맞는 데이터를 더 빠르게 얻을 수 있음
    

14-3.서브 커리 동작

- 동작 시 로테이션, DTP, NO 조건을 미리 설정할 수 있음
    
- 서브 커리로 필요한 데이터를 가져올 때, 필요한 컬럼을 지정할 수 있음
    
- 조건에 따라 서브 커리를 통해 데이터를 가져오는 것이 효율적임
    
- DBTNO에서 조건을 찾을 때도 서브 커리를 사용할 수 있음
    
- 프롬절에서도 서브 커리를 사용할 수 있음
    

15.서브쿼리의 이해와 활용

15-1.서브쿼리의 기본 이해

- 서브쿼리는 원본 테이블에서 만들어진 서브쿼리로, 조건을 반환하는 것이 아니라 동작시킴
    
- 서브쿼리는 프롬절에 만들어지며, 반드시 이름을 붙여야 함
    
- 서브쿼리 생성 시 조건을 포함한 파생 테이블은 꼭 별칭을 가져야 함
    
- 파생 테이블은 무조건 테이블 자체를 반환하기 때문에 프롬절에 서브 커리를 만들면 결과를 바로 반환
    

15-2.서브쿼리의 활용 예시

- DPT와 조인을 하여 검색 결과를 반환하는 예시
    
- 서브쿼리를 통해 특정 조건에 따른 데이터를 별도로 표시
    
- 서브쿼리로 나온 결과는 '스미스'이며, '스미스'에 DPT를 붙여서 그 조건을 전체로 적용 가능
    
- 서브쿼리는 셀렉트, 외열절 등 다양한 활용이 가능
    

15-3.서브쿼리의 추가 기능

- 서브쿼리는 결과를 바로 반환하므로 셀렉트, 외열절에서 동일한 기능을 수행
    
- 서브쿼리 안에 있는 컬럼들은 프롬절에서 참조 가능
    
- 결과를 정확하게 반환하므로 테이블에서 어떤 컬럼을 가져다 쓸지 명확하게 정할 수 있음
    
- 파생 테이블에서 서브쿼리를 만들 때 별칭을 정해주면 테이블의 모든 값을 가져다 쓸 수 있음
    

16.서브쿼리

16-1.서브쿼리 동작과 예시

- 테이블 간의 조인을 통해 다중 데이터를 하나로 묶음
    
- DNA를 거치지 않도록 필요한 데이터만 가져와 사용함
    
- 셀렉트와 웨어절을 활용하여 컬럼을 정함
    
- 3개의 컬럼을 사용해 새로운 테이블을 생성함
    
- 복잡한 연산자를 간단한 명령어로 대체하여 효율성을 높임
    

16-2.서브쿼리의 종류와 활용

- 크롬절, 셀렉트, 웨어절 모두 서브쿼리의 대표적인 활용 방법임
    
- 웨어절에서 서브쿼리를 사용할 때 비교 연산자의 활용이 중요함
    
- 논리 조건을 단순화하여 동작의 간결성을 높임
    
- 동일한 조건에 대한 반복을 줄이기 위해 조건의 순서를 변경함
    
- 조건에 따라 다르게 동작하도록 별칭을 사용하여 제어함
    

16-3.서브쿼리의 예시

- 스미스 씨와 같은 부서에서 일하는 직원을 찾는 예시임
    
- DBT의 경우 일치하는 사람을 찾고, 스미스 씨와 같은 부서의 직원을 찾음
    
- 서브쿼리의 명령어를 활용하여 조건에 맞는 사람을 찾음
    
- 조건에 따라 다른 부서의 직원을 추가하여 검증함
    
- 명령어의 순서를 변경하여 복잡한 동작을 단순화함
    

17.서브쿼리 활용

17-1.서브쿼리 조건 만들기

- '그리스도'가 아니라 '씨'가 검색 키임
    
- '고객의 급여가 최대 임'을 조건으로 사용할 수 있음
    
- '고객의 급여가 최대 임'이 되면 '고객의 급여가 10000보다 커야 함'을 추가할 수 있음
    
- '고객의 급여가 최대 임 < 10000'과 '고객의 급여가 10000보다 크면 짧은'을 조건으로 사용할 수 있음
    
- 여러 개의 조건을 '그리스도'에 넣어 검색하는 방법을 '서브쿼리'라 부름
    

17-2.서브쿼리 코드 작성법

- 서브쿼리에서 '검색 키'를 기준으로 조건을 추가하거나 제거함
    
- '고객의 급여가 최대 임 < 10000'을 '고객의 급여가 10000보다 크면 짧은'으로 변경할 수 있음
    
- '고객의 급여가 최대 임'을 '고객의 급여가 10000보다 크면 짧은'으로 변경하여 검색 키를 기준으로 다른 조건을 추가할 수 있음
    
- '고객의 급여가 최대 임 < 10000'과 '고객의 급여가 10000보다 크면 짧은'을 조건으로 사용하여 '고객의 급여가 10000보다 크면 짧은'을 추가할 수 있음
    
- 검색 키에 대한 조건을 추가하거나 제거하여 원하는 결과를 얻을 수 있음
    

17-3.서브쿼리 조건의 활용

- 서브쿼리로 여러 개의 조건을 '그리스도'에 넣어 원하는 결과를 얻을 수 있음
    
- '고객의 급여가 최대 임 < 10000'을 '고객의 급여가 10000보다 크면 짧은'으로 변경하여 검색 키를 기준으로 다른 조건을 추가할 수 있음
    
- 이 방법을 통해 원하는 결과를 얻을 수 있음

1.서브 커리와 조건문

1-1.서브 커리의 기본 개념

- 서브 커리, 배열 요소 중 일부라도 들어갈 수 있음
    
- 길어진 서브 커리 또는 여러 개의 서브 커리 사용 시, '미드' 부분으로 올려서 사용 가능
    
- 특정 값을 갖는 연산 시, 스칼라 값이 아닌 여러 개의 행이 결과가 되어도 에러 메시지 없이 비교 가능
    
- '미드디스트' 서브 커리 예시로, '급여가 3천 불 이상이거나 소속된 부서에 속한 사원' 검색
    
- '급여가 3천 불 이상이고, 소속된 부서가 10 또는 20인 사람' 찾을 수 있음
    

1-2.서브 커리의 조건문 구조

- 서브 커리에 특정 조건을 달면, 메인 커리에 결과 반영
    
- 조건에 따라 다른 서브 커리의 결과를 메인 커리에 반영하는 방식
    
- '서브 커리의 값이 주어졌을 때, 해당 조건이 성립하면 메인 커리에 결과를 반영'
    
- 트루/ false에 따라 다른 서브 커리 동작 여부 판단 가능
    
- 예시로 '급여가 3천 불 이상이거나, 소속된 부서에 속한 사원' 검색 시, '급여가 3천 불 이상이고, 소속된 부서에 속한 사원' 찾을 수 있음
    

1-3.서브 커리의 유용성

- '서브 커리의 값을 찾을 때, 조건에 따라 다른 서브 커리 동작 가능'
    
- 이로써 복잡한 조건문도 단순화하고, 동작 여부에 따라 다른 서브 커리 동작 가능
    
- '리스트디스트' 명령어로, 대놓고 있는 서브 커리의 결과만을 메인 커리에 사용 가능
    
- 예시로 '직원이 10 또는 20일 때, 해당 조건에 따라 다른 서브 커리 동작'을 볼 수 있음
    
- 조건에 따라 다른 서브 커리 동작으로, 동작 결과를 빠르게 판별 가능
    

2.부서별 셀러리 조회

2-1.조건문 작성과 실행

- 셀러리 값이 가장 높은 부서를 찾는 조건문을 작성함
    
- 조건문의 변수로 매니저가 있는 부서를 넣고, 매니저가 아닌 부서에선 값을 조회하지 않음
    
- '그룹바이' 대신 '범위'를 사용해 원하는 조건을 명확히 함
    
- '최고 급여자'와 '직원이 있는 부서'를 동시에 만족하는 조건을 구현함
    
- '최고 급여자'와 '직원이 있는 부서'의 두 조건을 만족하는 직원을 '사'로 지정함
    

2-2.조건문 결과 분석

- 조건문의 결과는 '매니저가 있는 부서'와 '직원이 있는 부서'로 나뉨
    
- '사'가 '매니저가 있는 부서'에 해당할 경우 '사'로 지정하고, 그렇지 않으면 '부서명'을 '사'로 지정함
    
- 이 결과를 '직원이 있는 부서'로 치환하여, '매니저가 있는 부서'에서 '사'를 치환할 수 있음
    
- '부서명'으로 치환된 조건에 따라, '사'가 '직원이 있는 부서'에 해당하면 '사'로 지정하고, 그렇지 않으면 '부서명'을 '사'로 지정함
    
- '사'가 '직원이 있는 부서'에 해당할 경우, '사'로 지정하고, 그렇지 않으면 '부서명'을 '사'로 지정하여 결과를 '사'로 반환함
    

2-3.복잡한 조건문

- 복잡한 조건문을 구현하기 위해, '최고 급여자'와 '직원이 있는 부서'를 동시에 만족하는 조건을 만듦
    
- 이 조건을 만족하는 직원을 '사'로 지정하고, 그렇지 않으면 '부서명'을 '사'로 지정함
    
- '부서명'으로 치환된 조건에 따라, '사'가 '직원이 있는 부서'에 해당하면 '사'로 지정하고, 그렇지 않으면 '부서명'을 '사'로 지정함
    
- 이렇게 복잡한 조건문을 만족하는 직원을 '사'로 지정하는 것이 중요함
    
- 이 과정을 반복하여, '부서명'을 '사'로 지정하는 조건에 따라 다른 결과를 도출함
    

3.영화 분석을 위한 서브 커리와 메인 커리의 조합

3-1.서브 커리와 메인 커리의 정보 조합

- 영화의 매출을 비교하기 위해 2018년 기준 서브 커리와 2019년 기준 메인 커리를 찾음
    
- 서브 커리 안에서 영화의 정보를 찾는 데에 중점을 두고, 메인 커리로 넘어가서 최종적으로 값을 비교함
    
- 영화의 등장 시점(2018년 또는 2019년)이 아닌, 각각의 시점에서 영화가 개봉한 국가의 영화명을 찾는 것이 목표임
    

3-2.서브 커리의 동작 방식 개선

- 행이 많으면 속도가 느려지므로, 먼저 불러오는 값을 행에 따라 선별하는 방식을 사용함
    
- 주어진 조건에 따라 값이 변경되는 경우, 값이 변경된 행에만 주어지고, 그 외의 행에는 값 비교를 하지 않음
    
- 이런 방식으로 행의 수를 줄여 속도를 높이고, 동일한 값이 여러 개 존재할 경우, 하나의 값을 가지고 비교하도록 변경함
    

3-3.속도 향상을 위한 기타 동작 방식

- 서브 커리에서 값을 추려낼 때, 가장 먼저 불러오는 값을 상위에 올려놓으면 좋음
    
- 상위에 올려놓으면, 비교 처리가 효율적으로 이루어짐
    
- 주어진 조건에 따라, 여러 개의 값을 비교하기 때문에, 값이 많아질수록 처리 속도가 느려짐
    
- 속도 향상을 위해, 가장 먼저 불러오는 값들 위에 상위 명령어를 올려놓는 방식을 사용함
    

4.스크립트 코드와 서브 커리의 이해

4-1.스크립트 코드와 서브 커리의 개념 이해

- 스크립트 코드의 순서로와 서브 커리의 동작 과정을 이해함
    
- 서브 커리에서 최대한 값을 추려 놓으면 속도가 똑같은 동작에서 훨씬 차이가 나게 됨을 이해함
    
- 서브 커리에 따라 오더바이 레이팅이 돌아가고, 그 시간이 얼마나 걸리는지 확인함
    
- 메모리에서 값을 제거하거나, 생성해 놓은 매번 값을 올리는 방식에 따라 성능이 달라짐을 알게 됨
    

4-2.스크립트 코드의 실행과 결과 분석

- 스크립트 코드의 실행 과정을 따라 서브 커리가 동작하는 방식을 확인함
    
- 서브 커리에 의해 생성된 메모리 값과 원본 테이블 값을 비교함
    
- 서브 커리 동작 시 매번 행을 조회하여 결과를 출력하는 과정을 이해함
    
- 매번 동작 시에 일치하는 값을 찾는 과정을 살펴봄
    

4-3.스크립트 코드의 수정과 장점

- 스크립트 코드 작성 시 조건에 따라 다른 동작을 하는 부분을 수정함
    
- 수정된 스크립트 코드가 시간을 얼마나 절약하는지 확인함
    
- 조건에 따라 동작하는 서브 커리의 순서를 변경하면서 성능을 향상시킬 수 있음을 알게 됨
    
- 기존의 스크립트 코드를 개선하면서, 어떤 변화가 필요한지 파악함
    

5.조건문과 데이터 관리

5-1.조건문 작성법 이해

- 조건문은 '그리고', '또는' 등의 기호로 데이터의 상황을 표현함
    
- '그리고'는 '또는'을 사용하여 두 가지 상황을 비교함
    
- '그리고'의 앞부분은 '그리고', 뒷부분은 '이다'로 시작함
    
- '또는'은 '그리고'에 다른 상황을 추가함
    
- '또는'의 목적은 '그리고'에 다른 상황이 있을 때 '이다'로 인식하도록 하는 것임
    

5-2.데이터 관리 방법

- '선택' 기능을 사용하여 데이터를 선별하고 관리할 수 있음
    
- '선택' 기능은 '==', '==지 않다', '==하다' 등의 조건에 따라 데이터를 여집하거나 원하는 상태로 만듦
    
- '선택' 기능을 통해 데이터의 '셀러리'와 '포메이션'을 조정할 수 있음
    
- 데이터의 '셀러리'와 '포메이션'이 모두 '== 하거나 같다'면 '선택' 기능을 통해 데이터를 여길 수 있음
    
- '이스' 기능은 '== 하다'의 조건에 따라 '참' 또는 '거짓'을 반환함
    

5-3.조건문 예제

- 조건문은 데이터의 특성을 반영하여 상황에 맞게 작성할 수 있음
    
- '서브 커리'로 데이터의 '셀러리'와 '포메이션'을 조정할 수 있음
    
- 예를 들어, '셀러리'와 '포메이션'이 모두 '== 하거나 같다'면 '선택' 기능을 통해 데이터를 선별할 수 있음
    
- '이스' 기능을 사용하여 '== 하다'의 조건에 따라 '참' 또는 '거짓'을 반환할 수 있음
    
- 조건문은 데이터 관리에서 필수적인 기능이므로 정확하게 작성할 것임
    

6.프로그래밍 언어를 활용한 복잡한 조건문 작성

6-1.프로그래밍 언어를 활용한 조건문 작성

- 프로그래밍 언어를 활용하여 조건문을 작성하는 방법에 대해 설명함
    
- 조건에 따라 다른 값을 출력하도록 함수를 생성하는 방법을 소개함
    
- 주어진 값을 받아와 출력하는 조건문을 작성하는 방법에 대해 다룸
    
- 여러 가지 문제를 해결하기 위해 프로그래밍 언어를 사용하는 방법을 실습함
    
- 조건문의 결과는 코드의 조건에 따라 달라지는 것을 확인함
    

6-2.복잡한 조건문 작성의 예시

- 조건문을 작성하여 복잡한 조건을 시나리오에 따라 분석하고 해결하는 방법을 설명함
    
- 복잡한 조건문 작성의 예시로 다루어진 내용은 주어진 조건에 따라 다른 값을 출력하도록 작성한 것임
    
- 어떤 값을 출력할지 결정하는 조건을 만들고, 그 결과를 확인하는 방법을 소개함
    
- 조건문 작성에 필요한 정보를 분석하고, 그 결과를 시각화하는 방법에 대해 설명함
    
- 강의에서는 알고리즘과 조건문을 함께 사용하여 복잡한 조건문을 작성하는 방법을 설명함
    

6-3.프로그래밍 언어를 활용한 문제 해결

- 강의에서는 알고리즘과 조건문을 사용하여 문제를 해결하는 방법을 설명함
    
- 프로그래밍 언어를 활용하여 복잡한 문제를 해결하는 방법을 실습함
    
- 강의에서는 문제를 해결하기 위해 필요한 정보를 분석하고, 그 결과를 시각화하는 방법을 소개함
    
- 강의에서는 문제 해결에 필요한 데이터를 찾아내고, 그 데이터를 활용하여 문제를 해결하는 방법을 설명함
    
- 마지막으로, 강의에서는 강의에서 배운 내용을 바탕으로 한 실습의 중요성과 필요성을 강조함
    

7.데이터베이스 테이블 조작과 테이블 데이터 추가/수정

7-1.데이터베이스 테이블 조작의 기본

- 데이터베이스 테이블의 조회, 수정, 삭제를 위해 선택 문 사용함
    
- 데이터의 삽입, 변경은 해당 테이블에 정의된 컬럼에 따라 진행됨
    
- 테이블 내 개별 컬럼에 순서를 지정해 순서대로 데이터 튜플을 넣을 수 있음
    
- 필요한 경우 특정 조건에 맞는 행들만 찾아 수정하는 것도 가능함
    

7-2.데이터베이스 테이블 수정의 세부 조작

- 필요한 컬럼에만 수정을 하고 싶을 때는 '서술 컬럼명'이라는 명령어를 사용함
    
- 조건에 따라 특정 컬럼들만 수정해야 할 때는 '일괄 수정'이 아닌 '특정 조건에 따른 값 변경'을 사용함
    
- 특정 조건에 맞는 특정 값들만 일괄적으로 수정할 수 있음
    

7-3.테이블 데이터 추가/수정의 실습

- 값들을 추가할 때는 개수를 지정하지 않고 테이블에 바로 넣는 것이 일반적임
    
- 특정 조건에 맞는 행들만 찾아 수정하는 경우는 '조정 부서'를 사용함
    
- 데이터를 추가/수정하기 위해서는 컬럼명, 밸류, 개수를 정확히 지정해야 함
    

8.DML 데이터베이스 활용과 조건 분석

8-1.DML 데이터베이스와 IMF M, D 이름 분석

- DML은 데이터베이스에서 컬럼을 조회하고, 변환하고, 삽입하는 작업을 나타냄
    
- IMF M은 컬럼의 기본값을 설정하고, D 이름은 컬럼에 어떤 값을 부여할지 결정함
    
- D명은 필수 요소로, 잘못된 입력 시 컬럼의 값이 불일치할 수 있음
    
- 이제 잠재적으로 위험한 상황인 명령어 실행의 반복에 대비해야 함
    

8-2.선택과 삽입의 이해

- DML에서 선택은 데이터의 일부를 검색하고, 필요한 값들을 가져오는 작업을 나타냄
    
- 검색 조건을 부여하여 데이터를 찾아낼 수 있음
    
- 삽입은 컬럼에 값을 부여하는 작업으로, 새로운 데이터를 추가하는 것과 동일함
    
- 삽입할 때는 조건을 부여하여 특정 조건에 맞는 데이터만을 가져오도록 할 수 있음
    

8-3.데이터베이스 업데이트와 중요성

- DML에서 업데이트는 데이터베이스의 데이터를 수정하는 작업을 나타냄
    
- 특정 조건에 맞는 데이터를 가져와 다른 데이터를 업데이트하는 것이 가능함
    
- 업데이트는 모든 조건에 대해 적용되며, 잘못된 업데이트는 문제를 일으킬 수 있음
    
- 따라서, 업데이트의 중요성을 이해하고, 올바르게 사용하는 것이 중요함
    

9.MSQL 워크벤치 사용법

9-1.MSQL 워크벤치 소개

- MSQL 워크벤치는 편리한 클릭 클릭을 위한 자동 쿼리 생성기임
    
- 트랜잭션 모드와 자동 커밋 모드가 있음
    
- 골뱅이 옵션을 통해 트랜잭션의 현재 값을 확인할 수 있음
    
- 사용자는 직접 쿼리 작성하기보다는 선택, 분석, 업데이트, 삽입을 통해 값을 변경 가능
    
- 데이터 변경 시 값의 변화는 실시간으로 반영됨
    

9-2.실제 데이터 변경

- "데이터베이스 세션"을 통해 변경 전후의 데이터를 볼 수 있음
    
- 트랜잭션을 하지 않아도 변경 전후 데이터를 볼 수 있음
    
- "코드 변경"을 통해 실제 데이터를 변경할 수 있음
    
- 업데이트는 원본 데이터를 변경하며, 변경 사항은 절대로 무결성을 유지하도록 보장함
    
- 트랜잭션을 하지 않아도 "코드 변경"을 통해 실시간 데이터 변경이 가능함
    

9-3.데이터 사 backup과 롤백

- 데이터 변경 시 이전에 변경된 데이터까지 저장해 두는 기능이 있음
    
- "코드 변경 롤백"을 통해 이전에 변경된 데이터를 복원할 수 있음
    
- 기존 데이터를 잃지 않도록 보장함
    
- 데이터 사 백업 기능을 통해 데이터의 무결성을 유지함
    
- 롤백 기능을 통해 중요한 데이터의 변조를 방지함
    

10.데이터베이스 관리와 백업 방법

10-1.데이터베이스 관리

- 데이터베이스의 테이블과 행을 롤백으로 남겨 두어 필요 시 복원이 가능함
    
- 테이블의 업데이트, 삽입, 삭제는 데이터 중심의 수정으로 비용이 크게 들지 않음
    
- 백업이 불가능한 드랍과 다른 명령어로 테이블의 값들을 조정할 수 있음
    
- 삭제 명령어는 크게 드랍, 트랩케이트, 트리거 3가지가 있음
    

10-2.백업과 업데이트

- 백업을 위해 임시 테이블을 세션에 저장하여 롤백이 가능함
    
- 백업이 불가능한 트랩케이트는 테이블의 값을 복원하며 롤백을 유지함
    
- 롤백을 이용하여 데이터의 변환과 수정을 원할하게 처리할 수 있음
    
- 업데이트는 워크벤치에서 테스트가 안 되고 스위치에서 바로 적용됨
    