
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FISA í•™ìŠµ ë¦¬ë§ˆì¸ë“œ í€´ì¦ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        :root { --primary: #3498db; --dark: #2c3e50; --bg: #f8f9fa; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--dark); line-height: 1.6; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 20px auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); text-align: center; }
        .setup-box { background: #ffffff; padding: 25px; border-radius: 12px; border: 2px solid #edf2f7; margin-bottom: 30px; }
        .input-group { display: flex; flex-direction: column; gap: 15px; text-align: left; }
        input { padding: 14px; border: 1px solid #e2e8f0; border-radius: 8px; font-size: 16px; }
        button { padding: 16px; background: var(--dark); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background: #1a252f; }
        #quiz-display { margin-top: 40px; text-align: left; border-top: 2px solid #f1f5f9; padding-top: 20px; display: none; }
        details { background: #f8fafc; padding: 20px; border-radius: 10px; margin: 15px 0; border: 1px solid #e2e8f0; cursor: pointer; }
        pre { background: #1e1e1e !important; padding: 15px; border-radius: 8px; overflow-x: auto; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸš€ FISA AI ë³µìŠµ ì±Œë¦°ì§€</h1>
    
    <div class="setup-box">
        <div class="input-group">
            <label>ğŸ”‘ ì„œë¹„ìŠ¤ ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" id="userPass" placeholder="fisa****">
            
            <label>ğŸ“… í•™ìŠµ ë‚ ì§œ ì…ë ¥</label>
            <input type="text" id="dateInput" placeholder="ì˜ˆ: 2026.01.08">
            
            <button onclick="checkAuth()">í€´ì¦ˆ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        </div>
    </div>

    <div id="quiz-display">
        </div>
</div>

<script>
    // ì‚¬ìš©ìê°€ ìš”ì²­í•œ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
    const MY_SECRET = "fisa1234!";

    marked.setOptions({
        highlight: function(code, lang) {
            return hljs.highlightAuto(code).value;
        }
    });

    async function checkAuth() {
        const inputPass = document.getElementById('userPass').value;
        const date = document.getElementById('dateInput').value;
        const display = document.getElementById('quiz-display');

        if (inputPass !== MY_SECRET) {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
            return;
        }

        if (!date) {
            alert("ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        try {
            // GitHub Actionsì— ì˜í•´ ìƒì„±ëœ JSON íŒŒì¼ ê²½ë¡œ
            // GitHub Pages í™˜ê²½ì—ì„œëŠ” ê°™ì€ ì €ì¥ì†Œ ë‚´ íŒŒì¼ì„ ë°”ë¡œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
            const response = await fetch('./quiz_db.json');
            if (!response.ok) throw new Error("í€´ì¦ˆ ë°ì´í„° íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (Actions ì‹¤í–‰ í™•ì¸ í•„ìš”)");
            
            const data = await response.json();
            
            if (data[date]) {
                display.style.display = 'block';
                display.innerHTML = marked.parse(data[date]);
                
                // ì½”ë“œ í•˜ì´ë¼ì´íŒ… ì ìš©
                document.querySelectorAll('pre code').forEach((el) => {
                    hljs.highlightElement(el);
                });
            } else {
                alert("í•´ë‹¹ ë‚ ì§œ(" + date + ")ì˜ í€´ì¦ˆ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\níŒŒì¼ëª…ì´ ì •í™•í•œì§€ í™•ì¸í•´ ì£¼ì„¸ìš”.");
            }
        } catch (error) {
            alert("ì˜¤ë¥˜ ë°œìƒ: " + error.message);
        }
    }
</script>
</body>
</html>
